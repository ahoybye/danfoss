<apex:page standardController="Contact" extensions="CreateContactExtension">
    <apex:form id="form">
        <apex:pageMessages />
        <apex:pageBlock mode="edit" title="Create Contact">
            <apex:pageBlockSection columns="1">      
                <apex:inputField required="true" value="{!Contact.AccountId}"/>
                <apex:inputField value="{!Contact.FirstName}"/>
                <apex:inputField required="true" value="{!Contact.LastName}"/>
                <apex:inputField required="false" value="{!Contact.Email}"/>
            </apex:pageBlockSection>  
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton action="{!createNew}" value="Create Contact"/>
                <apex:commandButton action="{!cancel}" value="Cancel"/>
            </apex:pageBlockButtons>
            <apex:outputPanel rendered="{!navigateToEditCon}">
                Creating Contact...
                <script>
                var conID = '{!Contact.Id}';
                if (window.sforce) {
                    sforce.one.editRecord(conID);
                } else {
                    location = "/" + conID + "/e?retURL="+ conID;
                }
                </script>
            </apex:outputPanel>
        </apex:pageBlock>
    </apex:form>
</apex:page>