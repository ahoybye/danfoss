<apex:page standardController="Associated_Account__c" extensions="setContactonStakeholderMappingExtension" >
    <apex:form id="form">
        <apex:pageMessages />
        <apex:pageBlock >
      <apex:pageBlockSection title="Related Contacts..." columns="1">
                <apex:pageBlockTable value="{!results}" var="c" >
                    <apex:column value="{!c.firstname}"/>
                    <apex:column value="{!c.lastname}"/>
                    <apex:column value="{!c.email}"/>
                    <apex:column value="{!c.account.name}"/>
             <apex:column >
                        <apex:commandLink action="{!updatewithContact}" value="Set Contact" rerender="form" status="selectContactStatus">
                            <apex:param name="startNavigate" value="{!c.id}" assignTo="{!selectedContactId}"/>
                        </apex:commandLink>
                    </apex:column>
          </apex:pageBlockTable>
           <apex:panelGrid columns="3">
                    <c:PrevNextLinks setCon="{!setCon}" rerender="form" status="fetchStatus"/>
                    <c:PageNumber setCon="{!setCon}"/>
                    <apex:outputPanel style="color:#4AA02C;font-weight:bold">
                        <apex:actionStatus id="fetchStatus" startText="Fetching..." stopText=""/>
                    </apex:outputPanel>
                </apex:panelGrid>
          
         <apex:commandLink action="{!navigatewithoutContact}" value="Return to Stakeholder Mapping"  >
          </apex:commandLink>

            </apex:pageBlockSection>
            

    </apex:pageBlock>
                <apex:outputPanel rendered="{!navigateToAA}">
            Loading...
            <script>
            var aaID = '{!Associated_Account__c.Id}';
            if (window.sforce) {
                sforce.one.navigateToSObject(aaID);
            } else {
                location = "/" + aaID + "?retURL="+ aaID;
            }
            </script>
        </apex:outputPanel>
        </apex:form>
    </apex:page>