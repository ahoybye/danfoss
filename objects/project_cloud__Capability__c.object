<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <validationRules>
        <fullName>project_cloud__Capability_Project_Task_Duplicates</fullName>
        <active>true</active>
        <description>Prevent the existence of Capabilities that match the Primary Work Type of the related Project Task</description>
        <errorConditionFormula>project_cloud__IsDuplicate__c</errorConditionFormula>
        <errorDisplayField>project_cloud__Work_Type__c</errorDisplayField>
        <errorMessage>The Project Task this Capability is related to has this Work Type as it&apos;s primary Work Type.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>project_cloud__Capability_Read_Only</fullName>
        <active>true</active>
        <description>Capabilities are joining objects that should never be modfied. Prevent the lookups or owner from changing</description>
        <errorConditionFormula>ISCHANGED(project_cloud__External_Resource__c) ||
ISCHANGED(project_cloud__User__c) ||
ISCHANGED(project_cloud__Project_Task__c)</errorConditionFormula>
        <errorMessage>Please do not modify Capabilities, to make changes delete and/or create new records.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>project_cloud__External_Resource_OR_User_Only</fullName>
        <active>true</active>
        <description>Make sure exactly one of the External Resource, User or Project Task lookups is selected</description>
        <errorConditionFormula>IF(ISBLANK(project_cloud__External_Resource__c), 0, 1) +
IF(ISBLANK(project_cloud__User__c), 0, 1) +
IF(ISBLANK(project_cloud__Project_Task__c), 0, 1) != 1</errorConditionFormula>
        <errorMessage>Please select a single External Resource, User or Project Task</errorMessage>
    </validationRules>
</CustomObject>
